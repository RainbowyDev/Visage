# VISAGE ANTICHEAT SOFTWARE CONFIGURATION FILE - FORMATTED IN YAML
# Configuration file to adjust Visage in it's behavior (Generated by Visage Anti-Cheat @project.version@, modified & validated by Square)
#
# If you run into any issues, please open an issue at "https://git.squarecode.de/SquareCode/Visage/issues"
# This config is based on the configuration of AAC (https://www.spigotmc.org/resources/6442/),
#
# Welcome - fellow reader - to Visages configuration file!
# As you might have noticed, this file is very big and it might seem complicated at first sight,
# but understanding and mastering it is waaaay easier than you might expect it to be.
# Understanding Visage internally is essential for someone applying changes,
# guessing you want to avoid players flying around etc...
#
# Like every other anticheat, there is a very small chance that checks find anomalies on a legitimate player.
# As we don't want to kick players just lagging or glitching, we have implemented a "violation-level" mechanic.
# Every player has a numeric score for each check (maybe referred to as "violation level").
# As he is being detected, the number for that check increases.
# This number decays over time to ensure normal players don't get high values by collecting them over time...
# If a player has reached a configurable amount of violation points for a check - for example VL 1400
# on the "Reach" check - you can adjust Visage to execute specific commands, with a few placeholders at your disposal.
#
# Jointly fighting for a common, fair and respectable game is a good and wise decision.
# With your choice to use Visage, we are proud to offer this gaming experience to you and to your community.
# On our mission to bring Minecraft back to life by eliminating cheaters, we are pleased having you aboard!
# Hopefully, we can fulfill your eager expectations for us as well -
# if not, please write us on Discord or report to our issue tracker on Github.
# My team and I thank you very much for your purchase and your commitment \{~-~}/
# ~ Felix M. (Lead-Developer)
#
module:
  # Should Visage be able to analyze the combat behaviour of a player
  # Since Visage 1.1.1
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  assist:

    # Should this check be activated?
    enabled: true

    # Custom display for this check
    display: "AimAssist"

    # Should the player be aware when he has been recognized?
    silent: false

    # When this mode is enabled, the check will not throw any information or kick the player from the server.
    # It will simply count up the violations in Verbose mode.
    alertable: true

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # UNUSED
      threshold: 1

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      20:
        - "visage notify %player% in %world% is hitting extreme smooth (ping: %ping% tps: %tps%)"
        - "discord-hook"
      40:
        - "visage notify %player% in %world% was kicked for smooth combat (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Smooth combat"
        - "discord-hook"
        - "mysql-ban"

  # Should Visage be able to analyze the combat behaviour of a player
  # Since Visage 1.0.0
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  combatanalytics:

    # Should this check be activated?
    enabled: true

    # Custom display for this check
    display: "CombatAnalytics"

    # Should the player be aware when he has been recognized?
    silent: false

    # When this mode is enabled, the check will not throw any information or kick the player from the server.
    # It will simply count up the violations in Verbose mode.
    alertable: true

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # How many fails before throwing a verbose
      threshold: 1

      # Max angle for this check
      angle: 2.0

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      2:
        - "visage notify %player% in %world% is hitting unusual (behaviour) (ping: %ping% tps: %tps%)"
        - "discord-hook"
      3:
        - "visage notify %player% in %world% was kicked for combat analytics (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Combat behaviour"
        - "discord-hook"
        - "mysql-ban"

  # The KillAura check will detect & block automated fight bots, used to gain an advantage
  # Since Visage 1.1.1
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  killaura:

    # Should this check be activated?
    enabled: true

    # Custom display for this check
    display: "Aura"

    # Should the player be aware when he has been recognized?
    silent: false

    # When this mode is enabled, the check will not throw any information or kick the player from the server.
    # It will simply count up the violations in Verbose mode.
    alertable: true

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # UNUSED
      threshold: 5

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      5:
        - "visage notify %player% in %world% is attacking suspiciously (killaura) (ping: %ping% tps: %tps%)"
        - "discord-hook"
      10:
        - "visage notify %player% in %world% was kicked for attacking suspiciously (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Invalid fighting"
        - "discord-hook"
        - "mysql-ban"

  # Should Visage be able to analyze the combat behav. of a player?
  # Since Visage 1.1.3
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  heuristics:

    # Should this check be activated?
    enabled: true

    # Custom display for this check
    display: "Heuristics"

    # Should the player be aware when he has been recognized?
    silent: false

    # When this mode is enabled, the check will not throw any information or kick the player from the server.
    # It will simply count up the violations in Verbose mode.
    alertable: true

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # UNUSED
      threshold: 5

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      2:
        - "visage notify %player% in %world% is hitting unusual (heuristics) (ping: %ping% tps: %tps%)"
        - "discord-hook"
      5:
        - "visage notify %player% in %world% was kicked for combat heuristics (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Combat heuristics"
        - "discord-hook"
        - "mysql-ban"

  # Should Visage be able to analyze the combat range and check if the player is using reach?
  # Since Visage 1.0.0
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  reach:

    # Should this check be activated?
    enabled: true

    # Custom display for this check
    display: "Reach"

    # Should the player be aware when he has been recognized?
    silent: false

    # When this mode is enabled, the check will not throw any information or kick the player from the server.
    # It will simply count up the violations in Verbose mode.
    alertable: true

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # How many fails before throwing a verbose
      threshold: 5

      # What is the maximum range a player can have in Combat before getting a flag?
      max: 3.25

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      2:
        - "visage notify %player% in %world% is hitting unusual (ping: %ping% tps: %tps%)"
        - "discord-hook"
      3:
        - "visage notify %player% in %world% was kicked for combat reach (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Combat reach"
        - "discord-hook"
        - "mysql-ban"

  # Should Visage be able to analyze the arm behav. of a player in combat?
  # Since Visage 1.0.8
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  noswing:

    # Should this check be activated?
    enabled: true

    # Custom display for this check
    display: "NoSwing"

    # Should the player be aware when he has been recognized?
    silent: false

    # When this mode is enabled, the check will not throw any information or kick the player from the server.
    # It will simply count up the violations in Verbose mode.
    alertable: false

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # How many fails before throwing a verbose
      threshold: 5

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      2:
        - "visage notify %player% in %world% was kicked for noswing (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Unexpected hits"
        - "discord-hook"
        - "mysql-ban"

  # Should Visage be able to make a raytrace of the player in Combat and analyze it?
  # Since Visage 1.0.5
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  attackraytrace:

    # Should this check be activated?
    enabled: true

    # Custom display for this check
    display: "AttackRaytrace"

    # Should the player be aware when he has been recognized?
    silent: false

    # When this mode is enabled, the check will not throw any information or kick the player from the server.
    # It will simply count up the violations in Verbose mode.
    alertable: true

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # Average allowed range in combo case
      avgReach: 4.25

      # Maximum allowed direct range
      dist: 3.2

      # How many fails before throwing a verbose
      threshold: 1

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      2:
        - "visage notify %player% in %world% is attacking suspiciously (ping: %ping% tps: %tps%)"
        - "discord-hook"
      3:
        - "visage notify %player% in %world% was kicked for attacking suspiciously (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Attacking suspiciously"
        - "discord-hook"
        - "mysql-ban"

  # Should Visage be able to analyze the bow pulling of a player
  # Since Visage 1.0.6
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible. Therefore, we recommend using a threshold level of 2-3 maximum.
  fastbow:

    # Should this check be activated?
    enabled: true

    # Custom display for this check
    display: "FastBow"

    # Should the player be aware when he has been recognized?
    silent: false

    # When this mode is enabled, the check will not throw any information or kick the player from the server.
    # It will simply count up the violations in Verbose mode.
    alertable: true

    # At what level should the player's behavior be reset?
    cancel_vl: 1

    # From which level should Visage start logging
    log_vl: 0

    # Here you can make finer settings for this check
    settings:

      # UNUSED
      threshold: -1

    # Here you can set the thresholds. What should happen at which level.
    # Note that you cannot kick the player before the last executed point.
    thresholds:
      3:
        - "visage notify %player% in %world% was kicked for shooting arrows too quickly (ping: %ping% tps: %tps%)"
        - "visage broadcast %player%"
        - "kick %player% %prefix% &7Shot arrows too quickly"
        - "discord-hook"
        - "mysql-ban"

  # Should Visage be able to analyze the ip address of a player?
  # Since Visage 1.0.0
  # This check is able to automatically ban without any problems
  # The check should kick as early as possible.
  analyzer:

    # Do you want to have the Proxy Check enabled?
    enabled: true

    # Manage individual settings of a check
    settings:

      # The kick message (if an vpn is used)
      #
      # Tags
      #
      #  %prefix% - will be replaced by visages prefix
      #  %uuid% - will be replaced by the players' uuid
      #  %name% - will be replaced by the players' name
      #  %ip% - will be replaced by the players' ip
      kick-message: "%prefix% &7I'm sorry, but you are not allowed to connect through a proxy."

  # Fastrelog prevents players from rejoining too fast after they got kicked by Visage
  # Since Visage 1.0.4
  fastrelog:

    # Should Visage prevent players from relogging too fast after getting kicked by Visage?
    enabled: true

    # Custom display for this check
    display: "TooFastRelog"

    # Set the message
    message: "%prefix% &7You were kicked recently. Please wait before connecting again"

    # These checks will be ignored. If you get kicked by these, you can rejoin instantly.
    # To deactivate rejoin refreshing, add "rejoin" to the list
    ignore:
      - "Modulename"

    # Connection throttle
    millis: 900000 # 1000 * 60 * 15 ~ 15 Minutes

violation:

  # Visages prefix (Special characters can be used in the line without any worries. The config is loaded as UTF-8)
  # The config is saved by us as UTF-8. If you change the config, make sure that you save the config as UTF-8 formatted.
  prefix: "&9&lVisage &8»"

  # You should be able to hover over the message to get more information.
  hover-message: true
  #
  # Verbose message
  #  Verbose messages display information about flags of checks.
  #  This message should not be visible to normal players on your server, so
  #  you can leave it default.
  #
  # Tags for this message
  #
  #  %prefix% will be replaced by visages prefix
  #  %playerName% will be replaced by players name
  #  %display% will be replaced by the checks display
  #  %playerWorld% will be replaced by players world name
  #  %type% will be replaced by the checks type
  #  %comment% will be replaced by the verbose comment
  #  %moduleName% will be replaced by the module name
  #  %ping% will be replaced by players ping
  #  %tps% will be replaced by current tickspersecond(tps)
  #  %vladded% will be replaced by the added violations points
  #  %vl% will be replaced by current level of the player
  #
  # old-default:
  # verbose: "%prefix% &f%playerName% &7in %playerWorld% %comment% and failed &f%moduleName% (Type %type%) &8(&7ping: %ping% tps: %tps%&8) &7VL: &a+%vladded% &8» &c%vl%"
  #
  verbose: "%prefix% &f%playerName% &7failed &f%display% %type% &7VL[&9%vl%&7]"

  # Staff Notify Message
  #
  #  Notifications are sent to staff members.
  #  With "/visage notify" you can send messages like this
  #
  # Tags
  #
  #  %prefix% - will be replaced by visages prefix
  #  %text% - will be replaced by the information text
  info: "%prefix% &9&lInfo: &f%text%"

  # Kick Notify Message
  #
  #  Notifications are sent to all players.
  #  With "/visage broadcast" you can send messages like this
  #
  # Tags
  #
  #  %prefix% - will be replaced by visages prefix
  #  %name% - will be replaced by the players name
  kick: "%prefix% &9%name% &7was kicked for &fcheating"

# Violation logging
logging:

  # Should Visage send you ingame a message if a new update is available?
  alert-updates: true

  # Enable it for much more functions in visage via discord-hook
  discord:
    # Enable or disable it
    enabled: false
    # Paste here your webhook link
    link: "link"

  # Enable it for much more functions in visage
  mysql:
    # Enable or disable database support in visage.
    use-database-support: false
    # Address
    address: "connection"
    # Database name
    database: "database"
    # Username for login credentials
    username: "username"
    # Password for @username for login credentials
    password: "password"
    # Port for mysql
    port: 3306
    # Kick message if banned
    kick-message: "%prefix% &cYou are temporarily banned for &f%seconds% seconds &cfrom this this server."

  # Currently useless
  # Activate to stream verbose messages to the console
  console_log: false

  # Activate to save visages verbose output into a .txt file (recommended)
  file_log: false